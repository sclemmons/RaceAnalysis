@model RaceAnalysis.Models.TriStatsViewModel
@{
    Layout = "~/Views/Layouts/_AnalysisLayout.cshtml";
    PageData["Title"] = "Race Comparison";
    PageData["Instructions"] = "Select multiple races to compare.";
}

@section filter{


@if (Model.Stats.Count > 0)
{
    @Html.ActionLink("Filter by Time", "ShowFilterByDuration", null,
                                      new
                                      {
                                          races = @String.Join(",", Model.Filter.SelectedRaces.Select(x => x.RaceId.ToString()).ToArray()),
                                          agegroups = @String.Join(",", Model.Filter.SelectedAgeGroups.Select(x => x.AgeGroupId.ToString()).ToArray()),
                                          genders = @String.Join(",", Model.Filter.SelectedGenders.Select(x => x.GenderId.ToString()).ToArray())
                                      },
                                      new { @class = "modal-link btn btn-duration", title = "Filter by Time" })
}

}

@section results{
    @if (Model.Stats.Count > 0)
    {
       // foreach (var stat in Model.Stats)
        {
            //@Html.Partial("~/Views/Shared/_TriStats.cshtml", stat)
            @Html.Partial("~/Views/Shared/_StatsComparisonChart.cshtml", Model)
        }
    }
}




