@model RaceAnalysis.Models.TriStatsViewModel
@{
    ViewBag.Title = "TriStats";
    Layout = "~/Views/Layouts/_AnalysisLayout.cshtml";
}

<h2>Tri Stats</h2>


@{
    var controllerName = HttpContext.Current.Request.RequestContext.RouteData.Values["controller"].ToString();
}


@section filter{<div id="myemptydiv"></div>}




    @Html.ActionLink("Select Races", "ShowFilterByRace", null,
                                           new
                                           {
                                               races = @String.Join(",", Model.Filter.SelectedRaces.Select(x => x.RaceId.ToString()).ToArray()),
                                               agegroups = @String.Join(",", Model.Filter.SelectedAgeGroups.Select(x => x.AgeGroupId.ToString()).ToArray()),
                                               genders = @String.Join(",", Model.Filter.SelectedGenders.Select(x => x.GenderId.ToString()).ToArray())
                                           },
                                           new { @class = "modal-link btn btn-success", title = "Select Races" })

    @if (Model.Stats.Count > 0)
    {
        @Html.ActionLink("Filter by Time", "ShowFilterByDuration", null,
                                       new
                                       {
                                           races = @String.Join(",", Model.Filter.SelectedRaces.Select(x => x.RaceId.ToString()).ToArray()),
                                           agegroups = @String.Join(",", Model.Filter.SelectedAgeGroups.Select(x => x.AgeGroupId.ToString()).ToArray()),
                                           genders = @String.Join(",", Model.Filter.SelectedGenders.Select(x => x.GenderId.ToString()).ToArray())
                                       },
                                       new { @class = "modal-link btn btn-success", title = "Filter by Time" })
    }





