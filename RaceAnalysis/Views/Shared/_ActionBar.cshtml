@model BaseViewModel
@using RaceAnalysis.Models;

@{ 
    var queryViewModel = new SimpleFilterViewModel
    {
        Races = @String.Join(",", Model.Filter.SelectedRaceIds.Select(x => x.ToString()).ToArray()),
        AgeGroups = @String.Join(",", Model.Filter.SelectedAgeGroupIds.Select(x => x.ToString()).ToArray()),
        Genders = @String.Join(",", Model.Filter.SelectedGenderIds.Select(x => x.ToString()).ToArray()),

        swimlowtimevalue = Model.Filter.SwimLow.TotalMinutes.ToString(),
        swimhightimevalue = Model.Filter.SwimHigh.TotalMinutes.ToString(),

        bikelowtimevalue = Model.Filter.BikeLow.TotalMinutes.ToString(),
        bikehightimevalue = Model.Filter.BikeHigh.TotalMinutes.ToString(),

        runlowtimevalue = Model.Filter.RunLow.TotalMinutes.ToString(),
        runhightimevalue = Model.Filter.RunHigh.TotalMinutes.ToString(),

        finishlowtimevalue = Model.Filter.FinishLow.TotalMinutes.ToString(),
        finishhightimevalue = Model.Filter.FinishHigh.TotalMinutes.ToString()

    };
}


@Html.ActionLink("Summary", "SelectedRaces", "TriStatsSummary",
                 queryViewModel, new { @id = "action-summary", @class = "btn btn-success btn-duration", title = "Display histogram" })


@Html.ActionLink("Details", "SelectedRaces", "TriStats",
                 queryViewModel, new {@id="action-stats", @class = "btn btn-success btn-duration", title = "Display detailed stats" })

@Html.ActionLink("Athletes", "SelectedRaces", "TriAthletes",
                 queryViewModel, new { @id="action-athletes" ,@class = "btn btn-success btn-duration", title = "Display selected athletes" })

@Html.ActionLink("Compare Age Groups", "SelectedRaces", "TriStatsAgeGroupsCompare",
                  queryViewModel, new {@id="action-compareages", @class = "btn btn-success btn-duration", title = "Compare selected age groups" })

@Html.ActionLink("Compare Races", "SelectedRaces", "TriStatsRaceComparer",
                  queryViewModel, new {@id="action-compareraces", @class = "btn btn-success btn-duration", title = "Compare selected races" })


   
<script>
    $('#@ViewBag.Action').addClass("disabled");
</script>
    
